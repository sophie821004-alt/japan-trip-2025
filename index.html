<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SL Japan Travel 2025</title>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Playfair+Display:wght=700&display=swap" rel="stylesheet">
    
    <style>
        /* åŸºç¤æ¨£å¼å’Œå­—é«” */
        body { 
            font-family: 'Noto Sans JP', sans-serif; 
            background-color: #FBF9F2; 
            transition: background-color 0.5s;
            -webkit-tap-highlight-color: transparent; 
        }
        /* éš±è—æ»¾å‹•æ¢ */
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* æ ¸å¿ƒä¸»é¡Œæ¨£å¼ */
        .theme-simple {
             background-color: #FBF9F2; 
             color: #333; 
        }

        /* ç°¡ç´„æ·ºè‰²å¡ç‰‡ (ç»ç’ƒæ„Ÿ) */
        .glass-light { 
            background: rgba(255, 255, 255, 0.9); 
            backdrop-filter: blur(10px); 
            color: #333;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .card-shadow { box-shadow: 0 4px 25px rgba(0,0,0,0.1); }

        /* å°ˆç”¨æ–¼æ—¥æœŸçš„è¥¯ç·šå­—é«” */
        .date-style { font-family: 'Playfair Display', serif; }
        
        /* è¨­å®šåˆ†å¸³ç³»çµ±ç¶²æ ¼æ•¸ */
        .grid-cols-2 {
            grid-template-columns: repeat(2, minmax(0, 1fr));
        }
        
        /* ä¿®æ­£ React 18 è­¦å‘Š */
        #root {
            min-height: 100vh;
        }
    </style>
</head>
<body class="bg-[#FBF9F2] text-gray-800 antialiased">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;
        
        const TRAVELERS = ['Sophie', 'Li'];
        const DEFAULT_RATE = 0.22; // åŒ¯ç‡ä½”ä½ç¬¦
        
        // --- DATA SOURCE & CONFIGS ---

        // äº¤é€šã€ä½å®¿ã€ç·Šæ€¥è³‡è¨Š åŠ é›»å­ç¥¨åˆ¸
        const toolsData = {
            flights: [
                { leg: "å»ç¨‹", code: "IT206", time: "12/20 09:00 TPE -> 14:00 NGO", airport: "TPE/NGO" },
                { leg: "å›ç¨‹", code: "MM625", time: "12/28 16:35 NRT -> 20:00 TPE", airport: "NRT T1" }
            ],
            hotels: [
                { 
                    name: "VIA INN åå¤å±‹ç«™å‰æ¤¿ç”º", 
                    dates: "12/20-12/22", 
                    address: "æ„›çŸ¥ç¸£åå¤å±‹å¸‚ä¸­æ‘å€æ¤¿ç”º9-13 (ã€’453-0015)", 
                    phone: "+81-52-451-5489" 
                },
                { 
                    name: "MYSTAYS å¯Œå£«å±±å±•æœ›æ¸©æ³‰é…’åº—", 
                    dates: "12/22-12/24", 
                    address: "å±±æ¢¨ç¸£å¯Œå£«å‰ç”°å¸‚æ–°å€‰2654 (ã€’403-0011)", 
                    phone: "+81-555-21-7510" 
                },
                { 
                    name: "Land About Tokyo", 
                    dates: "12/24-12/28", 
                    address: "æ±äº¬éƒ½å°æ±å€æ ¹å²¸3-4-5 (ã€’110-0003)", 
                    phone: "+81-3-6802-4431" 
                }
            ],
            emergency: [
                { name: "æ—…å¤–åœ‹äººæ€¥é›£æ•‘åŠ©", phone: "+81-3-3280-7717" },
                { name: "å ±è­¦", phone: "110" },
                { name: "æ•‘è­·è»Š", phone: "119" }
            ],
            // é›»å­ç¥¨åˆ¸/QR Code å€åŸŸ (è«‹è‡ªè¡Œæ›¿æ›ç‚ºæ‚¨çš„å¯¦éš›é€£çµ)
            tickets: [
                { 
                    name: "Shibuya Sky å±•æœ›å°é–€ç¥¨", 
                    date: "12/25", 
                    type: "QR Code/PDF", 
                    link: "https://example.com/shibuya_sky_qr_pdf" 
                },
                { 
                    name: "å¯Œå£«æ€¥æ¨‚åœ’é€šç¥¨", 
                    date: "12/23", 
                    type: "Barcode/Link", 
                    link: "https://example.com/fujiq_highland_e_ticket" 
                },
                {
                    name: "Harbs è›‹ç³•å…Œæ›åˆ¸", 
                    date: "12/20", 
                    type: "Image",
                    link: "https://via.placeholder.com/150/0000FF/FFFFFF?text=Harbs+QR" 
                }
            ]
        };

        const THEME_COLOR = 'bg-[#FBF9F2]'; 
        const themeConfig = {
            city: { isDark: false, url: null, fallbackColor: THEME_COLOR },
            // ... å…¶ä»–ä¸»é¡Œé…ç½®
            default: { isDark: false, url: null, fallbackColor: THEME_COLOR }
        };

        const getBackgroundStyle = (theme) => {
            const config = themeConfig[theme] || themeConfig.default;
            return {
                className: `theme-simple ${config.fallbackColor} transition-colors duration-500`,
                style: { backgroundColor: '#FBF9F2' },
                isDark: config.isDark 
            };
        };

        const tripData = [
            // Day 1 (12/20) - åå¤å±‹æŠµé”
            {
                day: 1, date: "12/20 (Sat)", location: "Nagoya", weather: "sunny",
                temperature: [8, 10, 12, 14, 13, 11, 9, 8], 
                temp_hour_range: "10:00 - 18:00",
                daily_pass: "åéµå–®ç¨‹ç¥¨ (æ©Ÿå ´åˆ°é£¯åº—) + åå¤å±‹åœ°éµé€±æœ«ç’°ä¿ç¥¨ (Donichi Eco Kippu, 600 JPY)",
                memo: "Day 1 å‚™è¨»ï¼šè«‹ç¢ºä¿åéµç‰¹æ€¥è»Šç¥¨å·²è³¼è²·ã€‚**å‰›åˆ°æ—¥æœ¬å…ˆæ›å¥½ç¶²å¡ã€‚**", 
                events: [
                    { time: "09:00", title: "æ¡ƒåœ’ (TPE) âœˆï¸ åå¤å±‹ (NGO)", type: "transport", transport_note: "è™èˆª IT206 (è«‹è‡ªè¡Œç¢ºèªç™»æ©Ÿæ™‚é–“)", event_note: "Check-in & å‡ºå¢ƒ | D1 ç­æ©Ÿè³‡è¨Š", link: "" },
                    { time: "14:00", title: "æŠµé”åå¤å±‹ NGO & å‰å¾€é£¯åº—", type: "transport", transport_note: "åéµç‰¹æ€¥ | å»ºè­°é ç•™ 1.5hr", event_note: "æ–¼ä¸­éƒ¨åœ‹éš›æ©Ÿå ´è³¼è²·åéµç‰¹æ€¥è»Šç¥¨", link: "" },
                    { time: "15:30", title: "VIA INN åå¤å±‹ç«™å‰æ¤¿ç”º Check-in", type: "accommodation", event_note: "æ—…é¤¨ Check-in å®Œå¾Œï¼Œå…ˆåœ¨é™„è¿‘ç†Ÿæ‚‰ç’°å¢ƒ", link: toolsData.hotels[0].address },
                    { time: "17:00", title: "HARBS ç”œé»ï¼ˆå¤§é ç™¾åå¤å±‹åº—ï¼‰", type: "food", event_note: "ä½¿ç”¨å…Œæ›åˆ¸ | åœ°é»åœ¨åå¤å±‹è»Šç«™é™„è¿‘", link: "" },
                    { time: "19:30", title: "æ™šé¤ï¼šé°»é­šé£¯ï¼ˆã¾ã‚‹ã‚„æœ¬åº—ï¼‰", type: "food", event_note: "ã²ã¤ã¾ã¶ã— (æ«ƒã¾ã¶ã—) | å¿…é»", link: "" },
                    { time: "21:00", title: "åå¤å±‹ç«™å‘¨é‚Šæ¢ç´¢æˆ–å›é£¯åº—ä¼‘æ¯", type: "leisure", event_note: "è¦–é«”åŠ›æ±ºå®šï¼Œå¯é€› BIC CAMERA", link: "" }
                ]
            },
            // Day 2 (12/21) - åå¤å±‹è§€å…‰
            {
                day: 2, date: "12/21 (Sun)", location: "Nagoya", weather: "cloudy",
                temperature: [7, 8, 10, 11, 10, 9, 8, 7], 
                temp_hour_range: "09:00 - 17:00",
                daily_pass: "åå¤å±‹åœ°éµé€±æœ«ç’°ä¿ç¥¨ (Donichi Eco Kippu, 600 JPY)",
                memo: "Day 2 å‚™è¨»ï¼šä»Šå¤©å¤šåˆ©ç”¨åœ°éµä¸€æ—¥åˆ¸ã€‚",
                events: [
                    { time: "08:30", title: "ç†±ç”°ç¥å®®", type: "sight", suggested_departure: "08:20", transport_note: "åéµ (åå¤å±‹ç«™ -> ç¥å®®å‰ç«™)", event_note: "æ—¥æœ¬ä¸‰å¤§ç¥å®®ä¹‹ä¸€ï¼Œç¥ˆç¦æ±‚ç±¤", link: "" },
                    { time: "11:00", title: "åå¤å±‹åŸ", type: "sight", suggested_departure: "10:40", transport_note: "åœ°éµ | å¸‚å½¹æ‰€ç«™", event_note: "å¿…çœ‹é‡‘é¯±ï¼æ³¨æ„é—œé–€æ™‚é–“ (16:30)", link: "" },
                    { time: "13:30", title: "åˆé¤ï¼šåå¤å±‹ç‰¹è‰²æ–™ç†", type: "food", event_note: "å‘³å™Œè±¬æ’æˆ–æ‰‹ç¾½å…ˆï¼ˆé›ç¿…ï¼‰æ“‡ä¸€", link: "" },
                    { time: "15:30", title: "å¤§é ˆè§€éŸ³å¯º & å¤§é ˆå•†åº—è¡—", type: "shopping", transport_note: "åœ°éµ | å¤§é ˆè§€éŸ³ç«™", event_note: "é€›è¡—è³¼ç‰©ï¼Œå°‹æ‰¾é›¶é£Ÿæˆ–ç´€å¿µå“", link: "" },
                    { time: "19:30", title: "æ™šé¤ï¼šå±…é…’å±‹æˆ–ç‡’è‚‰", type: "food", event_note: "é«”é©—æ—¥å¼å±…é…’å±‹æ–‡åŒ–", link: "" },
                    { time: "21:00", title: "è¿”å›é£¯åº—ä¼‘æ¯", type: "leisure", event_note: "", link: "" }
                ]
            },
            // Day 3 (12/22) - æ—©ä¸Šç†±ç”°ç¥å®® & ä¸­åˆå‰å¾€å¯Œå£«å±± ğŸ—»
            {
                day: 3, date: "12/22 (Mon)", location: "Fuji", weather: "rain",
                temperature: [5, 7, 9, 10, 8, 7, 6, 5], 
                temp_hour_range: "08:00 - 16:00",
                daily_pass: "JR é«˜é€Ÿå·´å£« (åå¤å±‹ -> å¯Œå£«æ€¥æ¨‚åœ’)",
                memo: "Day 3 å‚™è¨»ï¼šå‹™å¿…ç¢ºèªé»‘è²“å®…æ€¥ä¾¿å¯„ä»¶ã€‚",
                events: [
                    { time: "08:00", title: "Check-out & è¡Œæå¯„é€", type: "accommodation", event_note: "å°‡å¤§ä»¶è¡Œæå¯„é€åˆ°æ±äº¬ Land About Tokyo (é»‘è²“å®…æ€¥ä¾¿)", link: "" },
                    { time: "09:00", title: "ç†±ç”°ç¥å®® (å†æ¬¡é€ è¨ª)", type: "sight", transport_note: "åéµæˆ–åœ°éµ (ç¥å®®è¥¿ç«™)", event_note: "åƒæ‹œå¾Œéœ€é ç•™æ™‚é–“è¿”å›è»Šç«™", link: "" },
                    { time: "11:00", title: "åˆé¤ï¼šåå¤å±‹ç«™é™„è¿‘å¿«é€Ÿç”¨é¤", type: "food", event_note: "åœ¨è»Šç«™å‘¨é‚Šå¿«é€Ÿè§£æ±ºåˆé¤ï¼Œæº–å‚™æ­è»Š", link: "" },
                    { time: "12:00", title: "é«˜é€Ÿå·´å£«ï¼šåå¤å±‹ -> å¯Œå£«æ€¥æ¨‚åœ’", type: "transport", transport_note: "JR æ±æµ·é«˜é€Ÿå·´å£« | è»Šç¨‹ç´„ 4.5hrã€‚", event_note: "å·´å£«æ™‚é–“å·²èª¿æ•´è‡³ä¸­åˆã€‚å¸¶é»é›¶é£Ÿå’Œæ°´ã€‚", link: "" },
                    { time: "16:30", title: "æŠµé”å¯Œå£«æ€¥æ¨‚åœ’ç«™", type: "transport", event_note: "è½‰ä¹˜è‡³é£¯åº— (å¯èƒ½éœ€æ­ä¹˜è¨ˆç¨‹è»Šæˆ–æ¥é§è»Š)", link: "" },
                    { time: "17:30", title: "MYSTAYS å¯Œå£«å±±å±•æœ›æº«æ³‰é…’åº— Check-in", type: "accommodation", event_note: "ç¢ºèªæˆ¿é–“çš„å¯Œå£«å±±æ™¯è§€ï¼", link: toolsData.hotels[1].address },
                    { time: "20:00", title: "æ™šé¤ï¼šé£¯åº—é™„è¿‘æˆ–æº«æ³‰è¨­æ–½ç”¨é¤", type: "food", event_note: "é£¯åº—æº«æ³‰è¨­æ–½æˆ–é™„è¿‘å±…é…’å±‹", link: "" },
                    { time: "21:30", title: "é«”é©—é£¯åº—æº«æ³‰", type: "leisure", event_note: "", link: "" }
                ]
            },
            // Day 4 (12/23) - å¯Œå£«æ€¥æ¨‚åœ’ ğŸ¢
            { 
                day: 4, date: "12/23 (Tue)", location: "Fuji-Q Highland", weather: "sunny", 
                temperature: [2, 5, 8, 10, 9, 7, 5, 3], 
                temp_hour_range: "09:00 - 17:00", 
                daily_pass: "å¯Œå£«æ€¥æ¨‚åœ’é€šç¥¨ (éœ€äº‹å…ˆæ›ç¥¨)", 
                memo: "è«‹å‚™å¦¥é˜²å¯’è¡£ç‰©ï¼Œå±±å€æ°£æº«è¼ƒä½ã€‚å»ºè­°å…ˆç©é«˜äººæ°£çš„é›²éœ„é£›è»Šã€‚", 
                events: [
                    { time: "09:00", title: "å¯Œå£«æ€¥æ¨‚åœ’ é–‹åœ’", type: "amusement", event_note: "ä½¿ç”¨é€šç¥¨å…¥åœ’ï¼Œå»ºè­°å…ˆæ’éšŠç©é«˜é£›è»Šæˆ–ãˆãˆã˜ã‚ƒãªã„ã‹", link: toolsData.tickets[1].link },
                    { time: "12:30", title: "åˆé¤ï¼šæ¨‚åœ’å…§é¤å»³", type: "food", event_note: "åœ¨åœ’å€å…§é¸æ“‡å–œæ­¡çš„ä¸»é¡Œé¤å»³", link: "" },
                    { time: "15:00", title: "é¬¼å±‹æˆ°æ…„è¿·å®® / å…¶ä»–è¨­æ–½", type: "amusement", event_note: "æŒ‘æˆ°ä¸–ç•Œæœ€é•·æœ€å¯æ€•çš„é¬¼å±‹ï¼", link: "" },
                    { time: "18:00", title: "æ™šé¤ï¼šæ²³å£æ¹–è»Šç«™é™„è¿‘", type: "food", event_note: "å˜—è©¦ç•¶åœ°çš„é¤ºé£¥éºµ (ã»ã†ã¨ã†) æˆ–ç‡’è‚‰", link: "" },
                    { time: "20:00", title: "è¿”å›é£¯åº—ä¼‘æ¯ / æº«æ³‰", type: "leisure", event_note: "", link: "" }
                ]
            },
            // Day 5 (12/24) - æ²³å£æ¹–è§€å…‰ & å‚æ™šå‰å¾€æ±äº¬ & æ™šä¸Šæ™´ç©ºå¡” ğŸ„
            { 
                day: 5, date: "12/24 (Wed)", location: "Tokyo / Travel Day", weather: "cloudy", 
                temperature: [6, 8, 11, 13, 12, 10, 8, 7], 
                temp_hour_range: "10:00 - 18:00", 
                daily_pass: "å¯Œå£«å±±å‘¨éŠå·´å£« + é«˜é€Ÿå·´å£« (æ²³å£æ¹– -> æ±äº¬)", 
                memo: "ä¸Šåˆå°ˆæ³¨æ–¼å¯Œå£«å±±å‘¨é‚Šè§€å…‰ã€‚ä¸‹åˆæ­ä¹˜æ™šç­å·´å£«å‰å¾€æ±äº¬ã€‚è«‹æå‰ç¢ºèªå·´å£«ç¥¨ã€‚", 
                events: [
                    { time: "09:00", title: "Check-out & å¯„æ”¾è¡Œæ", type: "accommodation", event_note: "è¾¦ç†é€€æˆ¿æ‰‹çºŒï¼Œå°‡è¡Œæå¯„æ”¾åœ¨é£¯åº—æ«ƒå°æˆ–è»Šç«™ç½®ç‰©æ«ƒ", link: "" },
                    { time: "09:30", title: "æ²³å£æ¹–å¤©ä¸Šå±±å…¬åœ’ (Kachi Kachi å±±çºœè»Š)", type: "sight", transport_note: "æ²³å£æ¹–å‘¨éŠå·´å£« (ç´…ç·š)", event_note: "æ¬£è³æ²³å£æ¹–å…¨æ™¯èˆ‡å¯Œå£«å±±", link: "" },
                    { time: "11:30", title: "æ–°å€‰å±±æ·ºé–“å…¬åœ’", type: "sight", transport_note: "å¯Œå£«æ€¥è¡Œç·šä¸‹å‰ç”°ç«™", event_note: "çˆ¬ä¸Šå¿ éˆå¡”æ‹æ”å¯Œå£«å±±ç¶“å…¸ç…§", link: "" },
                    { time: "13:30", title: "åˆé¤ï¼šæ²³å£æ¹–å‘¨é‚Šé¤å»³", type: "food", event_note: "å»ºè­°åœ¨æ²³å£æ¹–è»Šç«™é™„è¿‘ç”¨é¤", link: "" },
                    { time: "16:30", title: "é«˜é€Ÿå·´å£«ï¼šæ²³å£æ¹– -> æ–°å®¿/æ±äº¬ç«™", type: "transport", transport_note: "å·´å£«ç´„ 17:00 å‡ºç™¼ | è»Šç¨‹ç´„ 2 å°æ™‚", event_note: "æ­ä¹˜é è¨‚çš„å·´å£«å‰å¾€æ±äº¬", link: "" },
                    { time: "19:30", title: "æŠµé”æ–°å®¿ / å‰å¾€é£¯åº— Land About Tokyo Check-in", type: "transport", event_note: "æ–¼æ—…é¤¨ Land About Tokyo Check-inï¼Œé ˜å–è¡Œæ", link: toolsData.hotels[2].address },
                    { time: "21:00", title: "æ™šé¤ï¼šä¸Šé‡/æ—¥æš®é‡Œé™„è¿‘", type: "food", event_note: "åœ¨é£¯åº—é™„è¿‘å¿«é€Ÿç”¨é¤", link: "" },
                    { time: "22:00", title: "æ™´ç©ºå¡” (Tokyo Skytree) é è§€", type: "sight", event_note: "å¾ä¸Šé‡å€å‰å¾€æ™´ç©ºå¡”å¯æ­ä¹˜åœ°éµï¼Œæ¬£è³å¤œé–“ç‡ˆå…‰", link: "" }
                ]
            },
            // Day 6 (12/25) - æ¾€è°·èˆ‡åŸå®¿ & æ™šä¸Šå…­æœ¬æœ¨é»ç‡ˆ ğŸ„
            { 
                day: 6, date: "12/25 (Thu)", location: "Tokyo Shibuya", weather: "sunny", 
                temperature: [7, 9, 12, 14, 13, 11, 9, 8], 
                temp_hour_range: "11:00 - 19:00", 
                daily_pass: "æ±äº¬åœ°éµä¸€æ—¥åˆ¸", 
                memo: "è–èª•ç¯€ç•¶å¤©äººæ½®çœ¾å¤šã€‚å‹™å¿…æ³¨æ„ Shibuya Sky çš„é ç´„æ™‚é–“ã€‚", 
                events: [
                    { time: "11:00", title: "åŸå®¿ç«¹ä¸‹é€š & è¡¨åƒé“", type: "shopping", transport_note: "åœ°éµè‡³åŸå®¿ç«™", event_note: "é€›ç«¹ä¸‹é€šçš„ç‰¹è‰²å°åº—ï¼Œåœ¨è¡¨åƒé“æ¬£è³é«˜ç´šå“ç‰Œåº—é¢", link: "" },
                    { time: "13:30", title: "åˆé¤ï¼šåŸå®¿/è¡¨åƒé“å’–å•¡å»³", type: "food", event_note: "å¯ä»¥é¸æ“‡ç¶²ç´…å’–å•¡åº—æˆ–é¬†é¤…åº—", link: "" },
                    { time: "16:00", title: "æ¾€è°·äº¤å‰è·¯å£ (Shibuya Crossing)", type: "sight", event_note: "ä¸–ç•ŒçŸ¥åçš„è·¯å£ï¼Œé«”é©—äººæµçš„éœ‡æ’¼", link: "" },
                    { time: "18:00", title: "Shibuya Sky å±•æœ›å°", type: "sight", event_note: "ä½¿ç”¨é ç´„é–€ç¥¨ï¼Œè§€è³å¤•é™½æˆ–å¤œæ™¯", link: toolsData.tickets[0].link },
                    { time: "20:00", title: "æ™šé¤ï¼šæ¾€è°·ç«™é™„è¿‘", type: "food", event_note: "åœ¨æ¾€è°·å°‹æ‰¾å±…é…’å±‹æˆ–ç‰¹è‰²é¤å»³æ…¶ç¥è–èª•ç¯€", link: "" },
                    { time: "22:00", title: "å…­æœ¬æœ¨ä¹‹ä¸˜è–èª•é»ç‡ˆ (Roppongi Illumination)", type: "sight", transport_note: "åœ°éµè‡³å…­æœ¬æœ¨ç«™", event_note: "æ¬£è³è¯éº—çš„æ«¸æœ¨å‚å¤§é“é»ç‡ˆï¼Œä½œç‚ºè–èª•å¤œçš„çµå°¾", link: "" }
                ]
            },
            // Day 7 (12/26) - æ·ºè‰ã€æ™´ç©ºå¡”èˆ‡æŠ¼ä¸Šæº«æ³‰ (å·²ä¿®æ­£) â›©ï¸
            { 
                day: 7, date: "12/26 (Fri)", location: "Tokyo Asakusa", weather: "cloudy", 
                temperature: [8, 10, 12, 13, 12, 11, 10, 9], 
                temp_hour_range: "10:00 - 18:00", 
                daily_pass: "æ±äº¬åœ°éµä¸€æ—¥åˆ¸", 
                memo: "Day 7 å‚™è¨»ï¼šä¸»è¦åœ¨æ·ºè‰/æŠ¼ä¸Šå‘¨é‚Šæ´»å‹•ï¼Œå¯å¤šåˆ©ç”¨åœ°éµã€‚", 
                events: [
                    { time: "07:30", title: "é£¯åº—æ—©é¤ (Land About Tokyo)", type: "food", event_note: "07:00-10:00 ä¹‹é–“", link: "" },
                    { time: "10:00", title: "æ·ºè‰å¯º (Sensoji Temple) & é›·é–€", type: "sight", transport_note: "åœ°éµè‡³æ·ºè‰ç«™", event_note: "åƒè§€é›·é–€ã€ä»²è¦‹ä¸–é€šï¼ŒæŠ½ç±¤æ±‚é‹å‹¢", link: "" },
                    { time: "12:30", title: "åˆé¤ï¼šæ·ºè‰å‘¨é‚Šç¾é£Ÿ", type: "food", event_note: "æ¨è–¦æ–‡å­—ç‡’æˆ–å¤©ä¸¼ï¼Œæˆ–æ‚¨æŒ‡å®šçš„å¹³åƒ¹åˆé¤ (å¦‚ 1000 JPY å·¦å³)", link: "https://maps.app.goo.gl/4vPwvL1vY8zY8gQ16" },
                    { time: "15:00", title: "æ™´ç©ºå¡” (Tokyo Skytree) & Pokemon Center", type: "shopping", transport_note: "åœ°éµè‡³æŠ¼ä¸Šç«™", event_note: "ç™»å¡”è§€æ™¯æˆ–åœ¨å‘¨é‚Šçš„ Solamachi è³¼ç‰©ï¼Œå°‹æ‰¾ Pokemon Center", link: "" },
                    { time: "18:00", title: "æŠ¼ä¸Šå¤©ç„¶æº«æ³‰ å¤§é»‘æ¹¯ (æˆ–é¡ä¼¼æº«æ³‰)", type: "leisure", transport_note: "è¿‘æŠ¼ä¸Šç«™ (Oshiage)", event_note: "é«”é©—æ—¥å¼æº«æ³‰ï¼Œæ”¾é¬†èº«å¿ƒ", link: "https://maps.app.goo.gl/wqZQjiQp2s5k7hQdA" },
                    { time: "20:00", title: "æ™šé¤ï¼šæº«æ³‰å‘¨é‚Šæˆ–è¿”å›ä¸Šé‡", type: "food", event_note: "äº«ç”¨æ™šé¤å¾Œè¿”å›é£¯åº—", link: "" }
                ]
            },
            // Day 8 (12/27) - ç§‹è‘‰åŸèˆ‡æ–°å®¿ (å·²ä¿®æ­£) ğŸ›ï¸
            { 
                day: 8, date: "12/27 (Sat)", location: "Tokyo Akihabara & Shinjuku", weather: "sunny", 
                temperature: [7, 9, 11, 13, 12, 10, 8, 7], 
                temp_hour_range: "10:00 - 18:00", 
                daily_pass: "Suica/Pasmo å¡", 
                memo: "Day 8 å‚™è¨»ï¼šæœ€å¾Œæ¡è³¼æ—¥ã€‚é›†ä¸­åœ¨é›»å™¨/å‹•æ¼«å’Œé«˜éšç™¾è²¨å€ã€‚", 
                events: [
                    { time: "07:30", title: "é£¯åº—æ—©é¤ (Land About Tokyo)", type: "food", event_note: "07:00-10:00 ä¹‹é–“", link: "" },
                    { time: "10:00", title: "ç§‹è‘‰åŸ / Ricoland Tokyo Bay", type: "shopping", transport_note: "JR è‡³ç§‹è‘‰åŸç«™/åœ°éµ", event_note: "é€›å‹•æ¼«å‘¨é‚Šã€é›»å™¨ç”¢å“ï¼Œæˆ–å°‹æ‰¾ Ricoland (æ©Ÿè»Šç”¨å“åº—ï¼Œéœ€ç¢ºèªåœ°é»)", link: "" },
                    { time: "13:00", title: "åˆé¤ï¼šæ–°å®¿ä¸‰ä¸ç›® (æœ¨æ›¾è·¯)", type: "food", transport_note: "åœ°éµè‡³æ–°å®¿ä¸‰ä¸ç›®ç«™", event_note: "åœ¨æœ¨æ›¾è·¯äº«ç”¨åˆé¤ (æ‡·çŸ³æ–™ç†/å£½å–œç‡’)ï¼Œéœ€ç¢ºèªé ç´„", link: "https://maps.app.goo.gl/KsF7dF2xH4r6c5t97" },
                    { time: "15:30", title: "æ–°å®¿ç«™å‘¨é‚Šé€›è¡—", type: "shopping", event_note: "é€›ä¼Šå‹¢ä¸¹ã€é«˜å³¶å±‹æˆ–æ–°å®¿æ±å£ä¸€å¸¶çš„è—¥å¦/ç™¾è²¨", link: "" },
                    { time: "18:00", title: "æ™šé¤ï¼šæ–°å®¿æˆ–è¿”å›ä¸Šé‡", type: "food", event_note: "æœ€å¾Œä¸€æ™šæ™šé¤ï¼Œå¯ä»¥é¸æ“‡å–œæ­¡çš„é¤å»³", link: "" },
                    { time: "20:00", title: "å›é£¯åº—æ•´ç†è¡Œæ", type: "leisure", event_note: "æº–å‚™éš”æ—¥ç™»æ©Ÿ", link: "" }
                ]
            },
            // Day 9 (12/28) - å•Ÿç¨‹è¿”å®¶ âœˆï¸
            { 
                day: 9, date: "12/28 (Sun)", location: "Departure", weather: "cloudy", 
                temperature: [6, 8, 10, 11, 10, 9, 8, 7], 
                temp_hour_range: "09:00 - 17:00", 
                daily_pass: "äº¬æˆé›»éµæˆ–å·´å£« (é£¯åº— -> æˆç”°æ©Ÿå ´)", 
                memo: "Day 9 å‚™è¨»ï¼šææ—© 3 å°æ™‚æŠµé” NRT æ©Ÿå ´ã€‚è«‹ç¢ºèª Land About Tokyo çš„é€€æˆ¿æ™‚é–“ã€‚", 
                events: [
                    { time: "11:00", title: "Land About Tokyo Check-out", type: "accommodation", event_note: "ç¢ºèªé€€æˆ¿æ‰‹çºŒï¼Œæ‰“åŒ…è¡Œæ", link: "" },
                    { time: "12:00", title: "å‰å¾€ NRT æ©Ÿå ´", type: "transport", transport_note: "äº¬æˆé›»éµ Access Express æˆ– Skyliner (å¾æ—¥æš®é‡Œ/ä¸Šé‡å‡ºç™¼)", event_note: "æ ¹æ“šç­æ©Ÿæ™‚é–“é ç•™å……è¶³äº¤é€šæ™‚é–“", link: "" },
                    { time: "13:35", title: "NRT T1 Check-in", type: "transport", event_note: "æ¨‚æ¡ƒ MM625 (è«‹å‹™å¿…å†æ¬¡ç¢ºèªèµ·é£›æ™‚é–“ 16:35)", link: "" },
                    { time: "16:35", title: "æˆç”° (NRT) âœˆï¸ æ¡ƒåœ’ (TPE)", type: "transport", event_note: "å›ç¨‹ç­æ©Ÿè³‡è¨Šï¼Œæ—…ç¨‹çµæŸï¼", link: "" }
                ]
            }
        ];

        // --- ICON UTILITIES ---

        // 1. å¤©æ°£ Icon è½‰æ›å™¨
        const getWeatherIcon = (weather) => {
            switch (weather.toLowerCase()) {
                case 'sunny': return 'â˜€ï¸'; // æ™´å¤©
                case 'cloudy': return 'â˜ï¸'; // é™°å¤©
                case 'rain': return 'ğŸŒ§ï¸';  // é›¨å¤©
                case 'thunderstorm': return 'â›ˆï¸'; // é›·é›¨
                case 'snow': return 'â„ï¸';   // é›ª
                default: return 'ğŸŒ¤ï¸';      // å¤šé›²/æœªçŸ¥
            }
        };

        // 2. äº‹ä»¶ Icon è½‰æ›å™¨
        const getEventIcon = (type) => {
            switch (type) {
                case 'food': return 'ğŸ½ï¸';
                case 'sight': return 'ğŸ¯';
                case 'shopping': return 'ğŸ›ï¸';
                case 'transport': return 'ğŸš„';
                case 'accommodation': return 'ğŸ¨';
                case 'leisure': return 'â˜•';
                case 'amusement': return 'ğŸ¡'; // æ–°å¢æ¨‚åœ’ Icon
                default: return 'ğŸ“';
            }
        };

        // --- COMPONENTS ---

        // æº«åº¦/å¤©æ°£é å ±åœ–è¡¨ (å·²æ•´åˆ Icon åŠå°æ™‚é å ±)
        const TemperatureChart = ({ temperatures, tempRange, weather }) => {
            if (!temperatures || temperatures.length === 0) return null;

            // å‡è¨­æ¯å°æ™‚é å ±å¾ tempRange çš„èµ·å§‹æ™‚é–“é–‹å§‹ï¼ŒæŒçºŒ `temperatures.length` å°æ™‚
            const [startHourStr] = tempRange.split(' - ')[0].split(':');
            const startHour = parseInt(startHourStr, 10);
            const hours = temperatures.map((_, index) => {
                const hour = (startHour + index) % 24;
                return `${hour < 10 ? '0' : ''}${hour}:00`;
            });
            
            // æ‰¾å‡ºæœ€é«˜æº«å’Œæœ€ä½æº«åŠå…¶ç´¢å¼•
            const maxTemp = Math.max(...temperatures);
            const minTemp = Math.min(...temperatures);
            const dailyIcon = getWeatherIcon(weather);

            return (
                <div className="p-4 bg-white/70 rounded-2xl shadow-inner mb-6 glass-light">
                    {/* é ‚éƒ¨æº«åº¦ç¯„åœå’Œæ•´é«”å¤©æ°£ */}
                    <div className="flex justify-between items-center mb-4 border-b pb-2 border-gray-100">
                        <span className="text-sm font-medium text-gray-700 flex items-center">
                            <span className="text-lg mr-2">{dailyIcon}</span> 
                            ä»Šæ—¥æº«åº¦è®ŠåŒ– ({tempRange})
                        </span>
                        <span className="text-sm font-semibold">
                            <span className="text-red-600">â†‘{maxTemp}Â°C</span> / <span className="text-blue-600">â†“{minTemp}Â°C</span>
                        </span>
                    </div>

                    {/* å°æ™‚é å ±ç¶²æ ¼ */}
                    <div className="flex justify-between overflow-x-auto hide-scrollbar">
                        {hours.map((hour, index) => {
                            const temp = temperatures[index];
                            const isMax = temp === maxTemp;
                            const isMin = temp === minTemp;

                            return (
                                <div key={index} className="flex flex-col items-center flex-shrink-0 mx-2 sm:mx-0" style={{ width: '12%' }}>
                                    {/* å¤©æ°£ Icon (æš«ç”¨æ¯æ—¥ä¸»è¦å¤©æ°£ Icon) */}
                                    <div className="text-2xl mb-1 opacity-80">{dailyIcon}</div> 
                                    
                                    {/* æº«åº¦å€¼ */}
                                    <div className={`text-sm font-semibold ${
                                        isMax ? 'text-red-600' : 
                                        isMin ? 'text-blue-600' : 
                                        'text-gray-700'
                                    }`}>
                                        {temp}Â°
                                    </div>
                                    
                                    {/* æ™‚é–“æ¨™ç±¤ */}
                                    <div className="text-xs text-gray-500 mt-1">{hour.replace(':00', '')}</div>
                                </div>
                            );
                        })}
                    </div>
                </div>
            );
        };
        
        // å–®ä¸€è¡Œç¨‹å¡ç‰‡
        const TripCard = ({ event, index }) => {
            // ä¿®æ­£ï¼šç§»é™¤ class è¨­ç½®ä¸­çš„ä¸æ­£ç¢ºçš„åå¼•è™Ÿæˆ–æœªå®šç¾©è®Šæ•¸
            const cardInnerClass = 'rounded-2xl overflow-hidden mb-12 mx-4';
            
            return (
                <div className={`glass-light card-shadow ${cardInnerClass}`}>
                    <div className="p-4">
                        <div className="flex justify-between items-start">
                            {/* å·¦å´æ™‚é–“èˆ‡ä¸»è¦è³‡è¨Š */}
                            <div className="flex-1 min-w-0">
                                <p className="text-2xl font-bold text-indigo-700 date-style">{event.time}</p>
                                <h3 className="text-lg font-semibold text-gray-800 mt-1 flex items-center">
                                    <span className="mr-2 text-2xl">{getEventIcon(event.type)}</span>
                                    {event.title}
                                </h3>
                                
                                {/* å‚™è¨»/èªªæ˜ */}
                                {(event.event_note || event.transport_note) && (
                                    <div className="mt-2 text-sm text-gray-600 space-y-1">
                                        {event.event_note && <p>ğŸ—’ï¸ {event.event_note}</p>}
                                        {event.transport_note && <p>ğŸš„ {event.transport_note}</p>}
                                    </div>
                                )}
                                
                                {/* å»ºè­°å‡ºç™¼æ™‚é–“ */}
                                {event.suggested_departure && (
                                    <p className="text-xs text-gray-500 mt-2">
                                        å»ºè­°å‡ºç™¼æ™‚é–“: {event.suggested_departure}
                                    </p>
                                )}
                            </div>
                            
                            {/* å³å´é€£çµ (è‹¥æœ‰) */}
                            {event.link && (
                                <a href={event.link} target="_blank" className="ml-4 flex-shrink-0 text-sm font-medium text-indigo-500 hover:text-indigo-600 transition duration-150">
                                    æŸ¥çœ‹åœ°åœ– &rarr;
                                </a>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        // æ¯æ—¥è¡Œç¨‹ç¸½è¦½
        const DailyItinerary = ({ dayData, isDark }) => {
            const textColor = isDark ? 'text-white' : 'text-gray-800';
            const subTextColor = isDark ? 'text-gray-300' : 'text-gray-600';
            const iconColor = isDark ? 'text-yellow-300' : 'text-indigo-700';

            const maxTemp = Math.max(...(dayData.temperature || []));
            const minTemp = Math.min(...(dayData.temperature || []));
            const dailyIcon = getWeatherIcon(dayData.weather);

            return (
                <main className="min-h-screen pb-16">
                    {/* é ‚éƒ¨æ—¥æœŸèˆ‡åŸå¸‚è³‡è¨Š */}
                    <header className="px-4 pt-8 pb-4">
                        <h1 className={`text-4xl font-bold ${textColor} date-style mb-2`}>
                            DAY {dayData.day}
                        </h1>
                        <h2 className={`text-xl font-medium ${subTextColor}`}>
                            {dayData.date} | {dayData.location}
                        </h2>
                        
                        {/* æ¯æ—¥æ°£æº«é¡¯ç¤º (Icon + æº«åº¦) */}
                        <div className={`mt-3 flex items-center text-lg font-semibold ${textColor}`}>
                             <span className={`text-3xl mr-2 ${iconColor}`}>{dailyIcon}</span>
                             {dayData.weather}
                             <span className="ml-4 text-red-500">â†‘{maxTemp}Â°</span> 
                             <span className="ml-2 text-blue-500">â†“{minTemp}Â°</span>
                        </div>
                    </header>

                    {/* äº¤é€šç¥¨åˆ¸æç¤º */}
                    {dayData.daily_pass && (
                         <div className="mx-4 mb-6 p-3 bg-indigo-50 rounded-xl shadow-md border border-indigo-200">
                             <p className="text-sm font-semibold text-indigo-700 flex items-center">
                                 <span className="text-lg mr-2">ğŸ«</span>
                                 å»ºè­°äº¤é€šå¥—ç¥¨:
                             </p>
                             <p className="mt-1 text-sm text-indigo-600">{dayData.daily_pass}</p>
                         </div>
                    )}

                    {/* æº«åº¦é å ±åœ–è¡¨ */}
                    <div className="px-4">
                        <TemperatureChart 
                            temperatures={dayData.temperature} 
                            tempRange={dayData.temp_hour_range}
                            weather={dayData.weather}
                        />
                    </div>

                    {/* æ¯æ—¥å‚™è¨» */}
                    {dayData.memo && (
                        <div className="mx-4 mb-6 p-3 bg-yellow-50 rounded-xl shadow-md border border-yellow-200">
                            <p className="text-sm font-semibold text-yellow-700 flex items-center">
                                <span className="text-lg mr-2">ğŸ””</span>
                                æ¯æ—¥æé†’:
                            </p>
                            <p className="mt-1 text-sm text-yellow-600">{dayData.memo}</p>
                        </div>
                    )}

                    {/* è¡Œç¨‹åˆ—è¡¨ */}
                    <section className="space-y-4">
                        {dayData.events.map((event, index) => (
                            <TripCard key={index} event={event} index={index} />
                        ))}
                    </section>
                </main>
            );
        };

        // --- MAIN APP ---

        const App = () => {
            const [activeDayIndex, setActiveDayIndex] = useState(0); // é è¨­é¡¯ç¤º Day 1
            const [activeTab, setActiveTab] = useState('itinerary');
            
            const totalDays = tripData.length;
            const currentDayData = tripData[activeDayIndex];
            
            const backgroundConfig = getBackgroundStyle(currentDayData.theme);
            const isDark = backgroundConfig.isDark;

            // è™•ç†æ—¥æœŸåˆ‡æ›
            const nextDay = () => setActiveDayIndex((prev) => Math.min(prev + 1, totalDays - 1));
            const prevDay = () => setActiveDayIndex((prev) => Math.max(prev - 1, 0));

            // æ¸²æŸ“å·¥å…·é é¢
            const renderTools = () => {
                const renderSection = (title, data, renderItem) => (
                    <div className="mb-8 glass-light card-shadow rounded-2xl p-4">
                        <h3 className="text-xl font-bold mb-3 text-indigo-700 border-b pb-2">{title}</h3>
                        <div className="space-y-3">
                            {data.map(renderItem)}
                        </div>
                    </div>
                );

                const renderFlight = (item, index) => (
                    <div key={index} className="text-sm p-2 border-l-4 border-indigo-400 pl-3 bg-gray-50 rounded-md">
                        <p className="font-semibold">{item.leg} ({item.code})</p>
                        <p className="text-gray-600">{item.time}</p>
                        <p className="text-xs text-gray-500">æ©Ÿå ´: {item.airport}</p>
                    </div>
                );

                const renderHotel = (item, index) => (
                    <div key={index} className="text-sm p-2 border-l-4 border-green-400 pl-3 bg-gray-50 rounded-md">
                        <p className="font-semibold text-green-700">{item.name}</p>
                        <p className="text-gray-700">å…¥ä½æ—¥æœŸ: {item.dates}</p>
                        <p className="text-gray-600">åœ°å€: {item.address}</p>
                        <p className="text-xs text-gray-500">é›»è©±: {item.phone}</p>
                    </div>
                );

                const renderTicket = (item, index) => (
                    <div key={index} className="text-sm p-2 border-l-4 border-red-400 pl-3 bg-gray-50 rounded-md">
                        <p className="font-semibold text-red-700">{item.name}</p>
                        <p className="text-gray-700">ä½¿ç”¨æ—¥æœŸ: {item.date}</p>
                        <p className="text-gray-600">é¡å‹: {item.type}</p>
                        <a href={item.link} target="_blank" className="text-xs text-red-500 hover:underline">
                            é»æ“ŠæŸ¥çœ‹ç¥¨åˆ¸/QR Code &rarr;
                        </a>
                    </div>
                );

                return (
                    <div className="p-4 pt-8">
                        {renderSection("èˆªç­è³‡è¨Š", toolsData.flights, renderFlight)}
                        {renderSection("ä½å®¿è³‡è¨Š", toolsData.hotels, renderHotel)}
                        {renderSection("é›»å­ç¥¨åˆ¸/QR Codes", toolsData.tickets, renderTicket)}
                        {renderSection("ç·Šæ€¥é€£çµ¡è³‡è¨Š", toolsData.emergency, (item, index) => (
                            <div key={index} className="text-sm p-2 border-l-4 border-orange-400 pl-3 bg-gray-50 rounded-md">
                                <p className="font-semibold">{item.name}</p>
                                <a href={`tel:${item.phone}`} className="text-orange-600 hover:underline">{item.phone}</a>
                            </div>
                        ))}
                    </div>
                );
            };

            // æ¸²æŸ“åˆ†å¸³å·¥å…·
            const renderSplit = () => {
                return (
                    <div className="p-4 pt-8">
                        <div className="mb-8 glass-light card-shadow rounded-2xl p-4">
                            <h3 className="text-xl font-bold mb-3 text-indigo-700 border-b pb-2">åˆ†å¸³å·¥å…· (è²»ç”¨è¿½è¹¤)</h3>
                            <p className="text-sm text-gray-600 mb-4">æ­¤è™•ç‚ºåˆ†å¸³åŠŸèƒ½è¨­è¨ˆé ç•™ä½ç½®ã€‚å¯æ•´åˆå¤–éƒ¨ App æˆ–è‡ªè¡ŒåŠ å…¥è¡¨æ ¼ã€‚</p>
                            
                            {/* åŒ¯ç‡è³‡è¨Š */}
                            <div className="text-sm bg-blue-50 p-3 rounded-lg mb-4">
                                <p className="font-semibold text-blue-700">ç•¶å‰åƒè€ƒåŒ¯ç‡</p>
                                <p className="text-blue-600">1 JPY â‰ˆ {DEFAULT_RATE} TWD</p>
                            </div>

                            {/* è²»ç”¨é …ç›®ç¤ºç¯„ */}
                            <div className="space-y-2">
                                <h4 className="font-semibold mt-4">è²»ç”¨è¿½è¹¤ç¤ºç¯„</h4>
                                <div className="grid grid-cols-2 gap-4 text-sm font-medium">
                                    <p>é …ç›®</p><p className="text-right">é‡‘é¡ (JPY)</p>
                                    <p className="text-gray-700">Day 1 é°»é­šé£¯</p><p className="text-right text-gray-700">7,500</p>
                                    <p className="text-gray-700">Day 2 åœ°éµåˆ¸</p><p className="text-right text-gray-700">1,200</p>
                                    <p className="font-bold border-t pt-2">ç¸½è¨ˆ (ç¤ºç¯„)</p><p className="font-bold text-right border-t pt-2">8,700</p>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            // æ¸²æŸ“å³æ™‚ç¿»è­¯ (Placeholder)
            const renderTranslate = () => (
                <div className="p-4 pt-8">
                    <div className="mb-8 glass-light card-shadow rounded-2xl p-4">
                        <h3 className="text-xl font-bold mb-3 text-indigo-700 border-b pb-2">å³æ™‚ç¿»è­¯ (Placeholder)</h3>
                        <p className="text-sm text-gray-600">æ­¤è™•å¯åµŒå…¥ Google Translate æˆ– DeepL ç­‰å·¥å…·çš„ Widgetï¼Œæ–¹ä¾¿å³æ™‚æºé€šã€‚</p>
                        <textarea 
                            className="w-full mt-4 p-3 border rounded-lg h-32 text-gray-800 focus:ring-indigo-500 focus:border-indigo-500"
                            placeholder="è¼¸å…¥ä¸­æ–‡æˆ–æ—¥æ–‡é€²è¡Œç¿»è­¯..."
                            disabled
                        ></textarea>
                    </div>
                </div>
            );


            // ä¸»å…§å®¹æ¸²æŸ“
            const renderContent = () => {
                switch (activeTab) {
                    case 'itinerary':
                        return <DailyItinerary dayData={currentDayData} isDark={isDark} />;
                    case 'tools':
                        return renderTools();
                    case 'split':
                        return renderSplit();
                    case 'translate':
                        return renderTranslate();
                    default:
                        return <DailyItinerary dayData={currentDayData} isDark={isDark} />;
                }
            };
            
            // ä¿®æ­£ï¼šå°‡ Top Bar çš„åˆ‡æ›ç®­é ­æ›¿æ›ç‚ºæ–‡å­—æˆ–æ¨™æº–ç¬¦è™Ÿï¼Œé¿å…å¼•ç”¨éŒ¯èª¤ (IconArrowLeft)
            const NavArrow = ({ direction, onClick, disabled }) => (
                <button 
                    onClick={onClick} 
                    disabled={disabled}
                    className={`p-2 rounded-full transition-colors duration-200 ${
                        disabled 
                            ? 'text-gray-400 cursor-not-allowed' 
                            : 'text-indigo-600 hover:bg-indigo-100'
                    }`}
                >
                    {direction === 'left' ? 'â†' : 'â†’'}
                </button>
            );


            return (
                <div className={`min-h-screen ${backgroundConfig.className}`} style={backgroundConfig.style}>
                    {/* Fixed Tab Navigation */}
                    <div className="sticky top-0 z-10 bg-white/95 backdrop-blur-sm shadow-md">
                        {/* Tab Bar */}
                        <div className="flex justify-around text-center border-b border-gray-200 text-sm font-medium">
                            {[
                                { id: 'itinerary', label: 'æ¯æ—¥è¡Œç¨‹' },
                                { id: 'tools', label: 'æ©Ÿç¥¨/ä½å®¿' },
                                { id: 'split', label: 'åˆ†å¸³å·¥å…·' },
                                { id: 'translate', label: 'å³æ™‚ç¿»è­¯' }
                            ].map((tab) => (
                                <button
                                    key={tab.id}
                                    onClick={() => setActiveTab(tab.id)}
                                    className={`py-3 flex-1 transition-colors duration-200 ${
                                        activeTab === tab.id
                                            ? 'text-indigo-600 border-b-2 border-indigo-600'
                                            : 'text-gray-500 hover:text-indigo-500'
                                    }`}
                                >
                                    {tab.label}
                                </button>
                            ))}
                        </div>

                        {/* Day Navigation Bar (åƒ…åœ¨è¡Œç¨‹é é¢é¡¯ç¤º) */}
                        {activeTab === 'itinerary' && (
                            <div className="flex justify-between items-center px-4 py-2 border-b border-gray-100">
                                <NavArrow direction="left" onClick={prevDay} disabled={activeDayIndex === 0} />
                                <span className="text-base font-semibold text-gray-700">
                                    DAY {currentDayData.day} / {totalDays}
                                </span>
                                <NavArrow direction="right" onClick={nextDay} disabled={activeDayIndex === totalDays - 1} />
                            </div>
                        )}
                    </div>

                    {/* Content Area */}
                    {renderContent()}

                    {/* é è…³ (å¯é¸) */}
                    <footer className="py-4 text-center text-xs text-gray-400">
                        Â© SL Japan Travel 2025 | Powered by Gemini
                    </footer>
                </div>
            );
        };
        
        // ä¿®æ­£ React 18 è­¦å‘Šï¼šä½†ç”±æ–¼ç’°å¢ƒé™åˆ¶ï¼Œç¹¼çºŒä½¿ç”¨ ReactDOM.render (é€™æœƒè§¸ç™¼è­¦å‘Šï¼Œä½†å¯ä»¥é‹è¡Œ)
        ReactDOM.render(<App />, document.getElementById('root'));

    </script>
</body>
</html>
