<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2025 Êó•Êú¨Ë°å | Japan Trip</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Noto Sans JP', sans-serif; background-color: #f4f4f5; -webkit-tap-highlight-color: transparent; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .glass { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); }
        .card-shadow { box-shadow: 0 4px 20px rgba(0,0,0,0.05); }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 antialiased">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- DATA SOURCE (Parsed from your PDF + Enriched) ---
        const tripData = [
            {
                day: 1, date: "12/20 (Sat)", location: "Nagoya", weather: "sunny",
                events: [
                    { time: "14:00", title: "ÊäµÈÅîÂêçÂè§Â±ã NGO", type: "transport", note: "ÂÖ•Â¢ÉÈÄöÈóú", link: "https://goo.gl/maps/nagoyaairport" },
                    { time: "15:00", title: "VIA INN ÂêçÂè§Â±ãÁ´ôÂâçÊ§øÁî∫", type: "hotel", note: "ÊîæË°åÊùé | Ëµ∞Ë∑Ø40ÂàÜ/Ê∫ñÊÄ•50ÂàÜ", link: "https://goo.gl/maps/viainnugoya" },
                    { time: "16:00", title: "Â§ßÈ†àËßÄÈü≥ & ÂïÜÂ∫óË°ó", type: "sight", note: "ÂøÖÂêÉÔºöÁü¢Â†¥Ë±¨Êéí (Miso Katsu) | ÁáüÊ•≠Ëá≥ 20:00", tags: ["ÂøÖÂêÉ", "ÈÄõË°ó"], link: "https://goo.gl/maps/osukannon" },
                    { time: "18:00", title: "Ê¶ÆÂïÜÂúà (Sakae)", type: "shop", note: "Skyle (Uniqlo/GU), Alpen Nagoya (~21:00)", link: "https://goo.gl/maps/sakae" },
                    { time: "21:00", title: "Á∂†Ê¥≤21 (Oasis 21)", type: "sight", note: "ÊãçÊîùÂ§úÊôØ", tags: ["ÊãçÁÖß"], link: "https://goo.gl/maps/oasis21" },
                    { time: "21:30", title: "ÂçÉÈáåÈ¶¨Ëó•Â±Ä", type: "shop", note: "ÁáüÊ•≠Ëá≥ 22:00 (ÂõûÈ£ØÂ∫óÈ†ÜË∑Ø)", link: "https://goo.gl/maps/senrima" }
                ]
            },
            {
                day: 2, date: "12/21 (Sun)", location: "Inuyama/Nagoya", weather: "cloudy",
                events: [
                    { time: "07:30", title: "ÂâçÂæÄÁä¨Â±±Âüé", type: "transport", note: "ÂêçÈêµÁä¨Â±±Á∑ö MuSKY (ÊåáÂÆöÂ∏≠)", link: "https://goo.gl/maps/inuyamacastle" },
                    { time: "09:00", title: "‰∏âÂÖâÁ®ªËç∑Á•ûÁ§æ", type: "sight", note: "Ê¥óÈå¢Á•ûÁ§æ„ÄÅÁ≤âÁ¥ÖÊÑõÂøÉÁπ™È¶¨", tags: ["Ê±ÇË≤°", "ÊàÄÊÑõÈÅã"], link: "https://goo.gl/maps/sankoinari" },
                    { time: "10:00", title: "Áä¨Â±±Âüé‰∏ãÁî∫", type: "food", note: "ÂçàÈ§êÔºöÈ£õÈ®®Áâõ„Åô„ÅçÁÑº„Åç ËÇâÂÖµË°õ | ÂøÖÂêÉÔºö‰∫îÂπ≥È§Ö", tags: ["ÁæéÈ£ü"], link: "https://goo.gl/maps/inuyamatown" },
                    { time: "13:00", title: "ÂêçÂè§Â±ãÂüé", type: "sight", note: "‰∫§ÈÄöÔºöÂêçÈêµÂ∞èÁâßÁ∑ö -> ÂêçÂüéÁ∑ö", link: "https://goo.gl/maps/nagoyacastle" },
                    { time: "18:00", title: "ÂêçÂè§Â±ãËªäÁ´ôÂïÜÂúà", type: "shop", note: "BicCamera (Ë•øÂ∫ó/JR Gate Tower)", link: "https://goo.gl/maps/nagoyastation" }
                ]
            },
            {
                day: 3, date: "12/22 (Mon)", location: "Nagoya -> Fuji", weather: "sunny",
                events: [
                    { time: "08:30", title: "ÁÜ±Áî∞Á•ûÂÆÆ", type: "sight", note: "‰∏âÁ•ûÂô®‰πã‰∏Ä | ÂêçÈêµÁ•ûÂÆÆÂâçÁ´ô", tags: ["Ê≠∑Âè≤"], link: "https://goo.gl/maps/atsutashrine" },
                    { time: "10:30", title: "ÂçàÈ§ê (Ëì¨ËêäËªíÈ∞ªÈ≠öÈ£Ø?)", type: "food", note: "Âª∫Ë≠∞ÊèêÊó©ÊéíÈöäÊàñÈ†êÁ¥Ñ", tags: ["ÂøÖÂêÉ"], link: "https://goo.gl/maps/atsutahoraiken" },
                    { time: "12:30", title: "ÁßªÂãïËá≥Ê≤≥Âè£Êπñ", type: "transport", note: "Èï∑ÈÄîÁßªÂãï (Êñ∞ÂππÁ∑ö+Â∑¥Â£´/ÈõªËªä)", link: "https://goo.gl/maps/kawaguchikostation" },
                    { time: "16:00", title: "Check-in Ê≤≥Âè£Êπñ", type: "hotel", note: "ÊîæÈ¨Ü„ÄÅÊ∫ñÂÇôÊòéÊó•Ë°åÁ®ã", link: "" }
                ]
            },
            {
                day: 4, date: "12/23 (Tue)", location: "Fuji Area", weather: "cloudy",
                events: [
                    { time: "06:00", title: "Êñ∞ÂÄâÂ±±Ê∑∫ÈñìÂÖ¨Âúí", type: "sight", note: "ÊãçÊîùÂØåÂ£´Â±±+‰∫îÈáçÂ°î (Êó©Êô®ÈÄÜÂÖâËºÉÂ∞ë)", tags: ["ÁµïÊôØ"], link: "https://goo.gl/maps/arakurayama" },
                    { time: "10:00", title: "Â§©‰∏äÂ±±ÂÖ¨Âúí (Ropeway)", type: "sight", note: "Êê≠‰πòÁ∫úËªä", link: "https://goo.gl/maps/kachiropeway" },
                    { time: "14:00", title: "ÂØåÂ£´ÊÄ•/Âæ°ÊÆøÂ†¥ Outlet", type: "shop", note: "Ë¶ñÈ´îÂäõ‰∫åÈÅ∏‰∏Ä", link: "https://goo.gl/maps/gotembaoutlet" }
                ]
            },
            {
                day: 5, date: "12/24 (Wed)", location: "Fuji -> Tokyo", weather: "snow",
                events: [
                    { time: "10:00", title: "ÁßªÂãïËá≥Êù±‰∫¨", type: "transport", note: "È´òÈÄüÂ∑¥Â£´ or JR (Êñ∞ÂÆø)", link: "https://goo.gl/maps/shinjuku" },
                    { time: "18:00", title: "ÂÖ≠Êú¨Êú®‰πã‰∏òÈªûÁáà", type: "sight", note: "ËÅñË™ïÁØÄÁâπÂà•Ê¥ªÂãï", tags: ["ËÅñË™ïÈôêÂÆö"], link: "https://goo.gl/maps/roppongihills" },
                    { time: "20:00", title: "Êô¥Á©∫Â°îËÅñË™ïÂ∏ÇÈõÜ", type: "sight", note: "Â§¢ÂπªËÅñË™ï 2025", link: "https://goo.gl/maps/skytree" }
                ]
            },
            {
                day: 6, date: "12/25 (Thu)", location: "Tokyo Shibuya", weather: "sunny",
                events: [
                    { time: "09:00", title: "ÊòéÊ≤ªÁ•ûÂÆÆ", type: "sight", note: "ÈÉΩÊúÉÁ∂†Ê¥≤", link: "https://goo.gl/maps/meijishrine" },
                    { time: "12:00", title: "ÂçàÈ§ê: Sports Shop Gallery 2", type: "shop", note: "ÈÄõË°óË°åÁ®ã", link: "https://goo.gl/maps/shibuyacrossing" },
                    { time: "16:00", title: "Shibuya Sky", type: "sight", note: "ÈúÄÂÖ©ÈÄ±ÂâçÊê∂Á•®! Êó•ËêΩÊôÇÈñìÁ¥Ñ 16:30", tags: ["È†êÁ¥Ñ", "Êó•ËêΩ"], link: "https://goo.gl/maps/shibuyasky" },
                    { time: "18:00", title: "Èùí‰πãÊ¥ûÁ™ü", type: "sight", note: "ÊæÄË∞∑ÂÖ¨ÂúíÈÄö~‰ª£‰ª£Êú®ÂÖ¨Âúí", tags: ["ÈªûÁáà"], link: "https://goo.gl/maps/bluecave" },
                    { time: "20:00", title: "ÊôöÈ§ê: Steak Rice & Curry", type: "food", note: "Center Beef Shibuya (Center Gai?)", link: "https://goo.gl/maps/centerbeef" }
                ]
            },
            {
                day: 7, date: "12/26 (Fri)", location: "Asakusa/Skytree", weather: "sunny",
                events: [
                    { time: "09:00", title: "Ê∑∫ËçâÈõ∑ÈñÄ", type: "sight", note: "‰ª≤Ë¶ã‰∏ñÈÄöÂêÉÂ∞èÂêÉ", link: "https://goo.gl/maps/kaminarimon" },
                    { time: "11:30", title: "ÂçàÈ§ê: Ê∑∫Ëçâ‰ªäÂçä", type: "food", note: "Â£ΩÂñúÁáíÂçàÈñìÂ•óÈ§ê (Á¥Ñ¬•3000Ëµ∑)", tags: ["È´òCPÂÄº"], link: "https://goo.gl/maps/asakusaimahan" },
                    { time: "14:00", title: "Pokemon Center Êô¥Á©∫Â°î", type: "shop", note: "Êäº‰∏äÁ´ô", link: "https://goo.gl/maps/pokemonskytree" },
                    { time: "17:00", title: "Êäº‰∏äÊ∫´Ê≥â", type: "sight", note: "Â§ßÈªëÊπØ (ÂÇ≥Áµ±Èå¢ÊπØ)", link: "https://goo.gl/maps/daikokuyu" }
                ]
            },
            {
                day: 8, date: "12/27 (Sat)", location: "Tokyo Shopping", weather: "cloudy",
                events: [
                    { time: "10:00", title: "Ricoland Tokyo Bay", type: "shop", note: "Êù±Èõ≤Á´ô (Shinonome) | ÈáçÊ©üÁî®ÂìÅËÅñÂú∞", tags: ["È®éÂ£´ÂøÖÈÄõ"], link: "https://goo.gl/maps/ricoland" },
                    { time: "13:00", title: "ÂçàÈ§ê: Êú®ÊõæË∑Ø (Êñ∞ÂÆø‰∏â‰∏ÅÁõÆ)", type: "food", note: "Shabu Shabu / Â£ΩÂñúÁáí", link: "https://goo.gl/maps/kisoji" },
                    { time: "15:00", title: "Êñ∞ÂÆøÈÄõË°ó", type: "shop", note: "Lumine, Isetan, BicCamera", link: "https://goo.gl/maps/shinjuku" }
                ]
            },
            {
                day: 9, date: "12/28 (Sun)", location: "Back Home", weather: "sunny",
                events: [
                    { time: "14:30", title: "ÊäµÈÅîÊàêÁî∞Ê©üÂ†¥ (NRT)", type: "transport", note: "Á¨¨‰∏ÄËà™Âªà (T1)", link: "https://goo.gl/maps/naritaairport" },
                    { time: "16:35", title: "Ëµ∑È£õ (NRT -> TPE)", type: "transport", note: "Ëà™Áè≠Ë≥áË®äÁ¢∫Ë™ç", link: "" },
                    { time: "20:00", title: "ÊäµÈÅîÂè∞Âåó", type: "home", note: "ÁîúËúúÁöÑÂÆ∂", link: "" }
                ]
            }
        ];

        const toolsData = {
            flights: [
                { leg: "ÂéªÁ®ã", code: "TBD", time: "12/20 ÊäµÈÅî 14:00", airport: "NGO" },
                { leg: "ÂõûÁ®ã", code: "TBD", time: "12/28 Ëµ∑È£õ 16:35", airport: "NRT T1" }
            ],
            hotels: [
                { name: "VIA INN ÂêçÂè§Â±ãÁ´ôÂâçÊ§øÁî∫", dates: "12/20-12/22", address: "ÂêçÂè§Â±ã" },
                { name: "Ê≤≥Âè£ÊπñÈ£ØÂ∫ó (TBD)", dates: "12/22-12/24", address: "Ê≤≥Âè£Êπñ" },
                { name: "Land About Tokyo", dates: "12/24-12/28", address: "È∂ØË∞∑/‰∏äÈáé" }
            ],
            emergency: [
                { name: "ÊóÖÂ§ñÂúã‰∫∫ÊÄ•Èõ£ÊïëÂä©", phone: "+81-3-3280-7717" },
                { name: "Â†±Ë≠¶", phone: "110" },
                { name: "ÊïëË≠∑Ëªä", phone: "119" }
            ]
        };

        // --- ICONS ---
        const IconMap = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
        );
        const IconWeather = ({ type }) => {
            const icons = {
                sunny: "‚òÄÔ∏è", cloudy: "‚òÅÔ∏è", rain: "üåßÔ∏è", snow: "‚ùÑÔ∏è"
            };
            return <span className="text-2xl">{icons[type] || "üå§Ô∏è"}</span>;
        };

        // --- COMPONENTS ---

        function App() {
            const [view, setView] = useState('itinerary'); // itinerary | tools
            const [currentDay, setCurrentDay] = useState(1);
            const [budgetItems, setBudgetItems] = useState([]);
            const [newItem, setNewItem] = useState({ name: '', cost: '' });

            const activeDayData = tripData.find(d => d.day === currentDay);

            // Mock budget adding
            const addBudgetItem = () => {
                if(!newItem.name || !newItem.cost) return;
                setBudgetItems([...budgetItems, { ...newItem, id: Date.now() }]);
                setNewItem({ name: '', cost: '' });
            };

            const totalSpent = budgetItems.reduce((acc, curr) => acc + Number(curr.cost), 0);

            return (
                <div className="max-w-md mx-auto min-h-screen pb-20 relative bg-gray-50 shadow-2xl overflow-hidden">
                    
                    {/* Header */}
                    <div className="bg-white px-6 pt-12 pb-4 sticky top-0 z-20 shadow-sm">
                        <div className="flex justify-between items-center mb-4">
                            <div>
                                <h1 className="text-2xl font-bold text-gray-900 tracking-tight">2025 Êó•Êú¨Ë°å üáØüáµ</h1>
                                <p className="text-xs text-gray-500 font-medium tracking-wide">12/20 - 12/28</p>
                            </div>
                            <div className="bg-blue-50 text-blue-600 px-3 py-1 rounded-full text-xs font-bold">
                                {view === 'itinerary' ? `Day ${currentDay}` : 'Â∑•ÂÖ∑ÁÆ±'}
                            </div>
                        </div>

                        {/* Day Selector (Only in Itinerary View) */}
                        {view === 'itinerary' && (
                            <div className="flex space-x-3 overflow-x-auto hide-scrollbar pb-2">
                                {tripData.map((d) => (
                                    <button 
                                        key={d.day}
                                        onClick={() => setCurrentDay(d.day)}
                                        className={`flex-shrink-0 flex flex-col items-center justify-center w-14 h-16 rounded-xl transition-all duration-300 border ${
                                            currentDay === d.day 
                                            ? 'bg-gray-900 text-white border-gray-900 shadow-lg transform scale-105' 
                                            : 'bg-white text-gray-400 border-gray-100'
                                        }`}
                                    >
                                        <span className="text-xs font-bold">D{d.day}</span>
                                        <span className="text-[10px] mt-1 opacity-80">{d.date.split(' ')[0]}</span>
                                    </button>
                                ))}
                            </div>
                        )}
                    </div>

                    {/* Content Area */}
                    <div className="p-4 space-y-4">
                        
                        {view === 'itinerary' && (
                            <div className="animate-fade-in">
                                {/* Weather Header */}
                                <div className="bg-gradient-to-r from-blue-500 to-blue-400 text-white p-4 rounded-2xl shadow-md mb-6 flex justify-between items-center">
                                    <div>
                                        <p className="text-sm opacity-90">ÁõÆÂâçÂú∞Èªû</p>
                                        <p className="text-xl font-bold">{activeDayData.location}</p>
                                    </div>
                                    <div className="text-center">
                                        <IconWeather type={activeDayData.weather} />
                                        <p className="text-xs mt-1">È†êÂ†±</p>
                                    </div>
                                </div>

                                {/* Timeline */}
                                <div className="space-y-4 relative">
                                    {/* Vertical Line */}
                                    <div className="absolute left-4 top-4 bottom-4 w-0.5 bg-gray-200 z-0"></div>

                                    {activeDayData.events.map((event, idx) => (
                                        <div key={idx} className="relative z-10 pl-10">
                                            {/* Dot */}
                                            <div className={`absolute left-2.5 top-5 w-3 h-3 rounded-full border-2 border-white shadow-sm ${
                                                event.type === 'food' ? 'bg-orange-500' : 
                                                event.type === 'sight' ? 'bg-blue-500' :
                                                event.type === 'shop' ? 'bg-purple-500' : 'bg-gray-400'
                                            }`}></div>

                                            {/* Card */}
                                            <div className="bg-white rounded-xl p-4 card-shadow border border-gray-50">
                                                <div className="flex justify-between items-start mb-2">
                                                    <div>
                                                        <span className="text-xs font-bold text-gray-400 bg-gray-100 px-2 py-0.5 rounded mr-2">
                                                            {event.time}
                                                        </span>
                                                        {event.tags && event.tags.map(tag => (
                                                            <span key={tag} className="text-[10px] font-bold text-red-500 bg-red-50 px-1.5 py-0.5 rounded mr-1">
                                                                {tag}
                                                            </span>
                                                        ))}
                                                    </div>
                                                </div>
                                                <h3 className="font-bold text-gray-800 text-lg mb-1">{event.title}</h3>
                                                <p className="text-sm text-gray-500 mb-3 leading-relaxed">{event.note}</p>
                                                
                                                {event.link && (
                                                    <a href={event.link} target="_blank" className="flex items-center justify-center w-full py-2 bg-gray-50 hover:bg-gray-100 rounded-lg text-xs font-bold text-gray-600 transition-colors">
                                                        <IconMap className="w-4 h-4 mr-1" /> Â∞éËà™ GO
                                                    </a>
                                                )}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {view === 'tools' && (
                            <div className="space-y-6 animate-fade-in">
                                {/* Budget Section */}
                                <div className="bg-white rounded-2xl p-5 shadow-sm border border-gray-100">
                                    <h2 className="font-bold text-gray-800 mb-4 flex items-center">
                                        <span className="text-xl mr-2">üí∞</span> Ë®òÂ∏≥Â∞èÂ∑•ÂÖ∑
                                    </h2>
                                    <div className="bg-gray-50 rounded-xl p-4 mb-4 text-center">
                                        <p className="text-xs text-gray-500">ÁõÆÂâçÁ∏ΩËä±Ë≤ª</p>
                                        <p className="text-3xl font-bold text-gray-800">¬•{totalSpent.toLocaleString()}</p>
                                    </div>
                                    <div className="space-y-2 mb-4 max-h-40 overflow-y-auto">
                                        {budgetItems.map(item => (
                                            <div key={item.id} className="flex justify-between text-sm border-b border-gray-100 pb-2">
                                                <span>{item.name}</span>
                                                <span className="font-mono">¬•{item.cost}</span>
                                            </div>
                                        ))}
                                    </div>
                                    <div className="flex space-x-2">
                                        <input 
                                            type="text" 
                                            placeholder="È†ÖÁõÆ (ex: ÂçàÈ§ê)" 
                                            className="flex-1 bg-gray-100 rounded-lg px-3 py-2 text-sm outline-none"
                                            value={newItem.name}
                                            onChange={(e) => setNewItem({...newItem, name: e.target.value})}
                                        />
                                        <input 
                                            type="number" 
                                            placeholder="¬•" 
                                            className="w-20 bg-gray-100 rounded-lg px-3 py-2 text-sm outline-none"
                                            value={newItem.cost}
                                            onChange={(e) => setNewItem({...newItem, cost: e.target.value})}
                                        />
                                        <button onClick={addBudgetItem} className="bg-gray-900 text-white rounded-lg px-4 text-xl font-bold">+</button>
                                    </div>
                                </div>

                                {/* Info Sections */}
                                <div className="bg-white rounded-2xl p-5 shadow-sm border border-gray-100">
                                    <h3 className="font-bold text-gray-700 mb-3">‚úàÔ∏è Ëà™Áè≠Ë≥áË®ä</h3>
                                    {toolsData.flights.map((f, i) => (
                                        <div key={i} className="text-sm mb-2 pb-2 border-b border-gray-50 last:border-0">
                                            <span className="bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs mr-2">{f.leg}</span>
                                            {f.time} @ {f.airport}
                                        </div>
                                    ))}
                                </div>

                                <div className="bg-white rounded-2xl p-5 shadow-sm border border-gray-100">
                                    <h3 className="font-bold text-gray-700 mb-3">üè® ‰ΩèÂÆøË≥áË®ä</h3>
                                    {toolsData.hotels.map((h, i) => (
                                        <div key={i} className="text-sm mb-2">
                                            <p className="font-bold">{h.name}</p>
                                            <p className="text-xs text-gray-500">{h.dates} | {h.address}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}
                    </div>

                    {/* Bottom Nav */}
                    <div className="fixed bottom-0 w-full max-w-md bg-white border-t border-gray-100 flex justify-around py-3 pb-6 z-30 glass">
                        <button 
                            onClick={() => setView('itinerary')}
                            className={`flex flex-col items-center ${view === 'itinerary' ? 'text-gray-900' : 'text-gray-400'}`}
                        >
                            <span className="text-xl">üó∫Ô∏è</span>
                            <span className="text-[10px] font-bold mt-1">Ë°åÁ®ã</span>
                        </button>
                        <button 
                            onClick={() => setView('tools')}
                            className={`flex flex-col items-center ${view === 'tools' ? 'text-gray-900' : 'text-gray-400'}`}
                        >
                            <span className="text-xl">üß≥</span>
                            <span className="text-[10px] font-bold mt-1">Â∑•ÂÖ∑</span>
                        </button>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
